(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{223:function(e,a,t){e.exports=t.p+"static/media/avatar.e3b65c58.jpg"},254:function(e,a,t){"use strict";t.r(a);var l=t(16),s=t.n(l),r=t(27),c=t(17),n=t(18),m=t(20),o=t(19),i=t(21),u=t(0),d=t.n(u),p=t(223),N=t.n(p),b=t(5),g=t(15),E=t(48),f=function(e){function a(){var e,t;Object(c.a)(this,a);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(n)))).state={user:JSON.parse(localStorage.getItem("user")).user,firstName:JSON.parse(localStorage.getItem("user")).user.firstName,lastName:JSON.parse(localStorage.getItem("user")).user.lastName,password:"",phoneNumber:JSON.parse(localStorage.getItem("user")).user.phoneNumber,confirmPassword:"",_id:JSON.parse(localStorage.getItem("user")).user._id,email:JSON.parse(localStorage.getItem("user")).user.email,wishlist:JSON.parse(localStorage.getItem("wishlist")),jwtSecret:JSON.parse(localStorage.getItem("user")).user.jwtSecret,jwtQuestion:JSON.parse(localStorage.getItem("user")).user.jwtQuestion,file:null},t.updateProfile=function(e){var a=t.state,l=a._id,s=a.firstName,r=a.lastName,c=a.password,n=a.phoneNumber,m=a.confirmPassword,o=a.jwtSecret,i=a.jwtQuestion;e.preventDefault();var u={_id:l,url:"update",firstName:s,lastName:r,password:c,phoneNumber:n,confirmPassword:m,jwtSecret:o,jwtQuestion:i};c.length>0&&(c!==m&&alert("Passwords Don't Match"),c===m&&t.props.dispatch(g.h.myAccount(u,"update"))),0===c.length&&t.props.dispatch(g.h.myAccount(u,"update"))},t.onChangeHadler=function(e){t.setState({file:e.target.files[0]})},t.uploadAvatar=function(){var e=Object(r.a)(s.a.mark(function e(a){var l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(l=new FormData).append("file",t.state.file),l.append("name",t.state._id),t.props.dispatch(g.h.avatar(l));case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(i.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.firstName,l=a.lastName,s=a.phoneNumber,r=a.email,c=a.wishlist,n=a.user,m=a.jwtSecret,o=a.jwtQuestion;return console.log(this.state.loaded),this.state.user?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"page-title-overlap bg-dark pt-4"},d.a.createElement("div",{className:"container d-lg-flex justify-content-between py-2 py-lg-3"},d.a.createElement("div",{className:"order-lg-2 mb-3 mb-lg-0 pt-lg-2"},d.a.createElement("nav",{"aria-label":"breadcrumb"},d.a.createElement("ol",{className:"breadcrumb breadcrumb-light flex-lg-nowrap justify-content-center justify-content-lg-start"},d.a.createElement("li",{className:"breadcrumb-item"},d.a.createElement(b.b,{className:"text-nowrap",to:"/"},d.a.createElement("i",{className:"czi-home"}),"Home")),d.a.createElement("li",{className:"breadcrumb-item text-nowrap"},d.a.createElement(b.b,{to:"/account_profile"},"Account")),d.a.createElement("li",{className:"breadcrumb-item text-nowrap active","aria-current":"page"},"Profile info")))),d.a.createElement("div",{className:"order-lg-1 pr-lg-4 text-center text-lg-left"},d.a.createElement("h1",{className:"h3 text-light mb-0"},"Profile info")))),d.a.createElement("div",{className:"container pb-5 mb-2 mb-md-3"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"col-lg-4 pt-4 pt-lg-0"},d.a.createElement("div",{className:"cz-sidebar-static rounded-lg box-shadow-lg px-0 pb-0 mb-5 mb-lg-0"},d.a.createElement("div",{className:"px-4 mb-4"},d.a.createElement("div",{className:"media align-items-center"},d.a.createElement("div",{className:"img-thumbnail rounded-circle position-relative",style:{width:"6.375rem"}},d.a.createElement("span",{className:"badge badge-warning","data-toggle":"tooltip",title:"Reward points"},"384"),d.a.createElement("img",{className:"rounded-circle",src:n.avatarUrl?n.avatarUrl:N.a,style:{width:"90px",height:"90px"},alt:"Susan Gardner"})),d.a.createElement("div",{className:"media-body pl-3"},d.a.createElement("h3",{className:"font-size-base mb-0"},"".concat(t,"  ").concat(l)),d.a.createElement("span",{className:"text-accent font-size-sm"},r)))),d.a.createElement("div",{className:"bg-secondary px-4 py-3"},d.a.createElement("h3",{className:"font-size-sm mb-0 text-muted"},"Dashboard")),d.a.createElement("ul",{className:"list-unstyled mb-0"},d.a.createElement("li",{className:"border-bottom mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/account_orders"},d.a.createElement("i",{className:"czi-bag opacity-60 mr-2"}),"Orders",d.a.createElement("span",{className:"font-size-sm text-muted ml-auto"},n.orders.length>0?n.orders.length:0))),d.a.createElement("li",{className:"border-bottom mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/account_wishlist"},d.a.createElement("i",{className:"czi-heart opacity-60 mr-2"}),"Wishlist",d.a.createElement("span",{className:"font-size-sm text-muted ml-auto"},c?c.length:0))),d.a.createElement("li",{className:"mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/account_tickets"},d.a.createElement("i",{className:"czi-help opacity-60 mr-2"}),"Support tickets",d.a.createElement("span",{className:"font-size-sm text-muted ml-auto"},n.ticket.length>0?n.ticket.length:0)))),d.a.createElement("div",{className:"bg-secondary px-4 py-3"},d.a.createElement("h3",{className:"font-size-sm mb-0 text-muted"},"Account settings")),d.a.createElement("ul",{className:"list-unstyled mb-0"},d.a.createElement("li",{className:"border-bottom mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3 active",to:"/account_profile"},d.a.createElement("i",{className:"czi-user opacity-60 mr-2"}),"Profile info")),d.a.createElement("li",{className:"border-bottom mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/account_address"},d.a.createElement("i",{className:"czi-location opacity-60 mr-2"}),"Addresses")),d.a.createElement("li",{className:"mb-0"},d.a.createElement(b.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/account_payment"},d.a.createElement("i",{className:"czi-card opacity-60 mr-2"}),"Payment methods")),d.a.createElement("li",{className:"d-lg-none border-top mb-0"},d.a.createElement("a",{className:"nav-link-style d-flex align-items-center px-4 py-3",href:"/"},d.a.createElement("i",{className:"czi-sign-out opacity-60 mr-2"}),"Sign out"))))),d.a.createElement("section",{className:"col-lg-8"},d.a.createElement("div",{className:"d-none d-lg-flex justify-content-between align-items-center pt-lg-3 pb-4 pb-lg-5 mb-lg-3"},d.a.createElement("h6",{className:"font-size-base text-light mb-0"},"Update you profile details below:"),d.a.createElement(b.b,{className:"btn btn-primary btn-sm",onClick:function(){return g.h.logout()},to:"/"},d.a.createElement("i",{className:"czi-sign-out mr-2"}),"Sign out")),d.a.createElement("form",null,d.a.createElement("div",{className:"bg-secondary rounded-lg p-4 mb-4"},d.a.createElement("div",{className:"media align-items-center"},d.a.createElement("img",{src:n.avatarUrl?n.avatarUrl:N.a,width:90,alt:"Susan Gardner",style:{width:"90px",height:"90px"}}),d.a.createElement("div",{className:"media-body pl-3"},d.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHadler}),d.a.createElement("button",{className:"btn btn-light btn-shadow btn-sm mb-2",type:"file",onClick:this.uploadAvatar},d.a.createElement("i",{className:"czi-loading mr-2"}),"Change avatar"),d.a.createElement("div",{className:"p mb-0 font-size-ms text-muted"},"Upload JPG, GIF or PNG image. 300 x 300 required.")))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-fn"},"First Name"),d.a.createElement("input",{className:"form-control",type:"text",id:"account-fn",value:t,onChange:function(a){return e.setState({firstName:a.target.value})}}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-ln"},"Last Name"),d.a.createElement("input",{className:"form-control",type:"text",id:"account-ln",value:l,onChange:function(a){return e.setState({lastName:a.target.value})}}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-fn"},"Secret Question"),d.a.createElement("input",{className:"form-control",type:"text",id:"jwtSecret",value:o,onChange:function(a){return e.setState({jwtQuestion:a.target.value})}}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-ln"},"Answer"),d.a.createElement("input",{className:"form-control",type:"text",id:"jwtQuestion",value:m,onChange:function(a){return e.setState({jwtSecret:a.target.value})}}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-email"},"Email Address"),d.a.createElement("input",{className:"form-control",type:"email",id:"account-email",defaultValue:r,disabled:!0}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-phone"},"Phone Number"),d.a.createElement("input",{className:"form-control",type:"text",id:"account-phone",value:s,onChange:function(a){return e.setState({phoneNumber:a.target.value})},required:!0}))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-pass"},"New Password"),d.a.createElement("div",{className:"password-toggle"},d.a.createElement("input",{className:"form-control",type:"password",id:"account-pass",onChange:function(a){return e.setState({password:a.target.value})}}),d.a.createElement("label",{className:"password-toggle-btn"},d.a.createElement("input",{className:"custom-control-input",type:"checkbox"}),d.a.createElement("i",{className:"czi-eye password-toggle-indicator"}),d.a.createElement("span",{className:"sr-only"},"Show password"))))),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"account-confirm-pass"},"Confirm Password"),d.a.createElement("div",{className:"password-toggle"},d.a.createElement("input",{className:"form-control",type:"password",id:"account-confirm-pass",onChange:function(a){return e.setState({confirmPassword:a.target.value})}}),d.a.createElement("label",{className:"password-toggle-btn"},d.a.createElement("input",{className:"custom-control-input",type:"checkbox"}),d.a.createElement("i",{className:"czi-eye password-toggle-indicator"}),d.a.createElement("span",{className:"sr-only"},"Show password"))))),d.a.createElement("div",{className:"col-12"},d.a.createElement("hr",{className:"mt-2 mb-3"}),d.a.createElement("div",{className:"d-flex flex-wrap justify-content-between align-items-center"},d.a.createElement("div",{className:"custom-control custom-checkbox d-block"},d.a.createElement("input",{className:"custom-control-input",type:"checkbox",id:"subscribe_me",defaultChecked:!0}),d.a.createElement("label",{className:"custom-control-label",htmlFor:"subscribe_me"},"Subscribe me to Newsletter")),d.a.createElement("button",{className:"btn btn-primary mt-3 mt-sm-0",type:"button",onClick:this.updateProfile},"Update profile"))))))))):this.state.user?void 0:d.a.createElement("div",null)}}]),a}(u.Component);a.default=Object(E.b)(null,null)(f)}}]);
//# sourceMappingURL=11.130f4066.chunk.js.map